<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cycles in Plants and Animals (P3) Quiz</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      line-height: 1.6;
      background: #f4f9f9;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #2a7a5e;
    }
    .question {
      margin-bottom: 20px;
      padding: 15px;
      border: 2px solid #cce0dd;
      border-radius: 8px;
      background: #ffffff;
    }
    .feedback {
      margin-top: 8px;
      font-weight: bold;
    }
    .correct {
      color: green;
    }
    .incorrect {
      color: red;
    }
    button {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      font-size: 16px;
      background: #2a7a5e;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background: #24664d;
    }
    textarea {
      width: 100%;
      height: 80px;
      margin-top: 8px;
    }
  </style>
</head>
<body>
  <h1>ðŸŒ± Cycles in Plants and Animals (P3) Quiz</h1>

  <form id="quizForm">
    <!-- Q1 -->
    <div class="question">
      <p><b>Q1.</b> Which of the following is <u>NOT</u> part of the life cycle of a flowering plant?</p>
      <label><input type="radio" name="q1" value="a"> a) Seed</label><br>
      <label><input type="radio" name="q1" value="b"> b) Young plant</label><br>
      <label><input type="radio" name="q1" value="c"> c) Adult plant</label><br>
      <label><input type="radio" name="q1" value="d"> d) Egg</label>
      <div id="feedback-q1" class="feedback"></div>
    </div>

    <!-- Q2 -->
    <div class="question">
      <p><b>Q2.</b> A butterflyâ€™s life cycle goes through these stages in order:</p>
      <label><input type="radio" name="q2" value="a"> a) Egg â†’ Larva â†’ Pupa â†’ Adult</label><br>
      <label><input type="radio" name="q2" value="b"> b) Egg â†’ Pupa â†’ Larva â†’ Adult</label><br>
      <label><input type="radio" name="q2" value="c"> c) Adult â†’ Egg â†’ Larva â†’ Pupa</label><br>
      <label><input type="radio" name="q2" value="d"> d) Larva â†’ Egg â†’ Pupa â†’ Adult</label>
      <div id="feedback-q2" class="feedback"></div>
    </div>

    <!-- Q3 -->
    <div class="question">
      <p><b>Q3.</b> Which animal lays eggs that hatch into tadpoles before becoming adults?</p>
      <label><input type="radio" name="q3" value="a"> a) Chicken</label><br>
      <label><input type="radio" name="q3" value="b"> b) Frog</label><br>
      <label><input type="radio" name="q3" value="c"> c) Grasshopper</label><br>
      <label><input type="radio" name="q3" value="d"> d) Mosquito</label>
      <div id="feedback-q3" class="feedback"></div>
    </div>

    <!-- Q4 -->
    <div class="question">
      <p><b>Q4.</b> Which of the following shows care and responsibility towards plants and animals?</p>
      <label><input type="radio" name="q4" value="a"> a) Plucking flowers to play with</label><br>
      <label><input type="radio" name="q4" value="b"> b) Watering plants regularly</label><br>
      <label><input type="radio" name="q4" value="c"> c) Keeping insects in a closed jar without air</label><br>
      <label><input type="radio" name="q4" value="d"> d) Pulling out seedlings for fun</label>
      <div id="feedback-q4" class="feedback"></div>
    </div>

    <!-- Q5 -->
    <div class="question">
      <p><b>Q5.</b> The three main stages of a flowering plantâ€™s life cycle are:</p>
      <input type="text" name="q5" placeholder="Fill in the blanks">
      <div id="feedback-q5" class="feedback"></div>
    </div>

    <!-- Q6 -->
    <div class="question">
      <p><b>Q6.</b> The young stage of a frog is called a ____.</p>
      <input type="text" name="q6" placeholder="Fill in the blank">
      <div id="feedback-q6" class="feedback"></div>
    </div>

    <!-- Q7 -->
    <div class="question">
      <p><b>Q7.</b> A mosquito lays its eggs in ____.</p>
      <input type="text" name="q7" placeholder="Fill in the blank">
      <div id="feedback-q7" class="feedback"></div>
    </div>

    <!-- Q8 -->
    <div class="question">
      <p><b>Q8.</b> Match the animal with its correct life cycle type:</p>
      <p>
        Chicken â†’ <input type="text" name="q8a" placeholder="Type: direct / complete / incomplete"><br>
        Butterfly â†’ <input type="text" name="q8b"><br>
        Grasshopper â†’ <input type="text" name="q8c"><br>
        Frog â†’ <input type="text" name="q8d">
      </p>
      <div id="feedback-q8" class="feedback"></div>
    </div>

    <!-- Q9 -->
    <div class="question">
      <p><b>Q9.</b> Why is it important to show curiosity when learning about plants and animals?</p>
      <textarea name="q9"></textarea>
      <div id="feedback-q9" class="feedback"></div>
    </div>

    <!-- Q10 -->
    <div class="question">
      <p><b>Q10.</b> How can we show care and concern for living things in our daily lives?</p>
      <textarea name="q10"></textarea>
      <div id="feedback-q10" class="feedback"></div>
    </div>

    <button type="button" onclick="checkAnswers()">Submit</button>
  </form>

  <script>
    const answers = {
      q1: "d",
      q2: "a",
      q3: "b",
      q4: "b",
      q5: "Seed â†’ Young plant â†’ Adult plant",
      q6: "tadpole",
      q7: "water",
      q8: {
        a: "direct",
        b: "complete",
        c: "incomplete",
        d: "complete"
      }
    };

    function checkAnswers() {
      const form = document.forms["quizForm"];

      // Q1-Q4 MCQs
      for (let i = 1; i <= 4; i++) {
        const userAnswer = form[`q${i}`].value;
        const feedback = document.getElementById(`feedback-q${i}`);
        if (userAnswer === answers[`q${i}`]) {
          feedback.textContent = "âœ… Correct!";
          feedback.className = "feedback correct";
        } else {
          feedback.textContent = `âŒ Incorrect. Correct answer: ${answers[`q${i}`]}`;
          feedback.className = "feedback incorrect";
        }
      }

      // Q5-Q7 short text
      for (let i = 5; i <= 7; i++) {
        const userAnswer = form[`q${i}`].value.trim().toLowerCase();
        const correct = answers[`q${i}`].toLowerCase();
        const feedback = document.getElementById(`feedback-q${i}`);
        if (userAnswer.includes(correct.split(" ")[0])) {
          feedback.textContent = "âœ… Correct!";
          feedback.className = "feedback correct";
        } else {
          feedback.textContent = `âŒ Incorrect. Correct answer: ${answers[`q${i}`]}`;
          feedback.className = "feedback incorrect";
        }
      }

      // Q8 matching
      let correctCount = 0;
      ["a","b","c","d"].forEach(letter => {
        const val = form[`q8${letter}`].value.trim().toLowerCase();
        if (val.includes(answers.q8[letter])) correctCount++;
      });
      const feedback8 = document.getElementById("feedback-q8");
      feedback8.textContent = `You got ${correctCount}/4 correct matches.`;
      feedback8.className = correctCount === 4 ? "feedback correct" : "feedback incorrect";

      // Q9 & Q10 open-ended â†’ placeholder (API check can be added here)
      document.getElementById("feedback-q9").textContent =
        "âœ… Answer recorded. (Will be evaluated with Mistral API)";
      document.getElementById("feedback-q10").textContent =
        "âœ… Answer recorded. (Will be evaluated with Mistral API)";
    }
  </script>
</body>
</html>
